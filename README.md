# Jekyll-Restore

This script will try and restore markdown content suitable for jekyll from HTML
code that has been generated by jekyll. This is useful when you lost your git
repository with the blog's source and all you have left is the rendered HTML
output that you're serving to the internet

## Installation

This is a python script and uses [BeautifulSoup 4](https://pypi.org/project/beautifulsoup4/) for HTML parsing and [PyYaml](https://pypi.org/project/PyYAML/) for generating YAML front matter. Converting from HTML to Markdown is handled by [pandoc](https://pandoc.org). There are no special version
requirements, you can just use those libraries from e.g. Ubuntu package sources
or install them from pypi into a virtual env:

### Ubuntu

```
sudo apt-get install pandoc
sudo apt-get install python3-bs4 python3-yaml
```

### VirtualEnv

```shell
sudo apt-get install pandoc
python 3 -m venv venv
source venv/bin/activate
pip3 install -r requirements.txt
```

If your installation fails because it can't build the *wheel* part of `pyyaml`
that's ok.


### Usage

Put your HTML files from your blog into the `in/` directory and run the script:

```shell
python3 restore.py
```

You'll end up with your HTML posts converted to Markdown on a best-effort basis. When it's done converting, you'll find your Markdown files in the
`out/` directory. You should then copy those to a fresh Jekyll instance.

Make sure to use the correct settings for [Jekyll's permalinks](https://jekyllrb.com/docs/permalinks/) or you will end  with a lot of broken links.

### Blogpost

If you want to learn more details, [I have written a German blogpost about
converting my Blog back into Markdown after I lost the repository](https://blog.florianheinle.de/jekyll-blog-markdown-aus-html-wiederherstellen)
